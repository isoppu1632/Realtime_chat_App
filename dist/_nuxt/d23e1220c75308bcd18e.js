(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{187:function(t,e,n){var content=n(233);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(60).default)("a8faf114",content,!0,{sourceMap:!1})},188:function(t,e,n){var content=n(235);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(60).default)("b76496ae",content,!0,{sourceMap:!1})},211:function(t,e,n){var content=n(303);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(60).default)("3e26712d",content,!0,{sourceMap:!1})},212:function(t,e,n){var content=n(305);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(60).default)("59cbf09e",content,!0,{sourceMap:!1})},232:function(t,e,n){"use strict";var r=n(187);n.n(r).a},233:function(t,e,n){(e=n(59)(!1)).push([t.i,".chat-container[data-v-7cb47d96]{display:-webkit-box;display:flex;padding:8px}.thumbnail-container[data-v-7cb47d96]{margin-right:16px}.thumbnail-container img[data-v-7cb47d96]{width:50px;height:50px;border-radius:10px}.user-name[data-v-7cb47d96]{font-weight:700}",""]),t.exports=e},234:function(t,e,n){"use strict";var r=n(188);n.n(r).a},235:function(t,e,n){(e=n(59)(!1)).push([t.i,".chats-container[data-v-ec5ddb20]{padding:16px}",""]),t.exports=e},236:function(t,e,n){t.exports=n.p+"img/52a05e7.png"},302:function(t,e,n){"use strict";var r=n(211);n.n(r).a},303:function(t,e,n){(e=n(59)(!1)).push([t.i,".input-container[data-v-723eeecc]{padding:10px;height:100%;display:-webkit-box;display:flex}.avatar[data-v-723eeecc]{height:100%;width:auto}textarea[data-v-723eeecc]{width:100%;height:100%}.image-container[data-v-723eeecc]{display:-webkit-box;display:flex;-webkit-box-pack:center;justify-content:center}img[data-v-723eeecc]{width:70%;cursor:pointer}",""]),t.exports=e},304:function(t,e,n){"use strict";var r=n(212);n.n(r).a},305:function(t,e,n){(e=n(59)(!1)).push([t.i,".container[data-v-5f81ae92]{height:100%}.chats-layout[data-v-5f81ae92]{overflow:scroll;height:90%}.input-layout[data-v-5f81ae92]{height:10%}",""]),t.exports=e},307:function(t,e,n){"use strict";n.r(e);n(61),n(29),n(20),n(15),n(42);var r=n(26),o=(n(62),{props:["message"],computed:{displayName:function(){return"@"+this.message.user.name}}}),c=(n(232),n(21)),l={props:["messages"],components:{Message:Object(c.a)(o,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"chat-container"},[n("div",{staticClass:"thumbnail-container"},[n("img",{attrs:{src:t.message.user.thumbnail}})]),t._v(" "),n("div",{staticClass:"message-container"},[n("div",{staticClass:"user-name",attrs:{div:""}},[t._v(t._s(t.displayName))]),t._v(" "),n("div",{staticClass:"message"},[t._v(t._s(t.message.text))])])])}),[],!1,null,"7cb47d96",null).exports}},d=(n(234),Object(c.a)(l,(function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"chats-container"},this._l(this.messages,(function(t){return e("message",{attrs:{message:t}})})),1)}),[],!1,null,"ec5ddb20",null).exports),f=n(37),h=n(2),v=n(38),m=n(237),y=n.n(m);n(297);function x(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,n)}return e}h.default.use(y.a);var O={data:function(){return{dialogVisible:!1,text:null}},computed:{user:function(){return this.$store.state.user},isAuthenticated:function(){return this.$store.getters.isAuthenticated}},methods:function(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?x(Object(source),!0).forEach((function(e){Object(r.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):x(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}({},Object(v.b)(["setUser"]),{openLoginModal:function(){this.dialogVisible=!0},addMessage:function(t){var e=this;if(!this.keyDownedForJPConversion(t)){var n=this.$route.params.id;f.a.collection("channels").doc(n).collection("messages").add({text:this.text,createdAt:(new Date).getTime(),user:{name:this.user.displayName,thumbnail:this.user.photoURL}}).then((function(){e.text=null}))}},keyDownedForJPConversion:function(t){return 229===t.keyCode},login:function(){var t=this,e=new f.b.auth.GoogleAuthProvider;f.b.auth().signInWithPopup(e).then((function(e){var n=e.user;t.setUser(n),console.log(t.$store.state.user),t.dialogVisible=!1})).catch((function(t){window.alert(t)}))}})};n(302);function w(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,n)}return e}var j={components:{Messages:d,ChatForm:Object(c.a)(O,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"input-container"},[t.isAuthenticated?r("img",{staticClass:"avatar",attrs:{src:t.user.photoURL}}):t._e(),t._v(" "),t.isAuthenticated?r("textarea",{directives:[{name:"model",rawName:"v-model",value:t.text,expression:"text"}],domProps:{value:t.text},on:{keydown:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.addMessage(e)},input:function(e){e.target.composing||(t.text=e.target.value)}}}):r("textarea",{directives:[{name:"model",rawName:"v-model",value:t.text,expression:"text"}],domProps:{value:t.text},on:{click:t.openLoginModal,input:function(e){e.target.composing||(t.text=e.target.value)}}}),t._v(" "),r("el-dialog",{attrs:{title:"",visible:t.dialogVisible,width:"30%"},on:{"update:visible":function(e){t.dialogVisible=e}}},[r("div",{staticClass:"image-container"},[r("img",{attrs:{src:n(236)},on:{click:t.login}})])])],1)}),[],!1,null,"723eeecc",null).exports},data:function(){return{messages:[]}},mounted:function(){var t=this,e=this.$route.params.id;f.a.collection("channels").doc(e).collection("messages").orderBy("createdAt").onSnapshot((function(e){e.docChanges().forEach((function(e){var n=e.doc;"added"===e.type&&t.messages.push(function(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?w(Object(source),!0).forEach((function(e){Object(r.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):w(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}({id:n.id},n.data()))}))}))}},P=(n(304),Object(c.a)(j,(function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"container"},[e("div",{staticClass:"chats-layout"},[e("messages",{attrs:{messages:this.messages}})],1),this._v(" "),e("div",{staticClass:"input-layout"},[e("chat-form")],1)])}),[],!1,null,"5f81ae92",null));e.default=P.exports}}]);